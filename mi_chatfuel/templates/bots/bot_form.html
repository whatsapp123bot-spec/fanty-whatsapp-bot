<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title }}</title>
  <style>
    :root { --bg:#0f172a; --card:#0b1220; --muted:#94a3b8; --text:#e2e8f0; --accent:#7c3aed; --accent2:#22c55e; }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#0b1220,#0f172a);color:var(--text);font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
  header{padding:18px 22px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.06);position:sticky;top:0;background:rgba(11,18,32,.7);backdrop-filter: blur(8px); z-index:1000}
    .brand{display:flex;align-items:center;gap:10px;font-weight:800;font-size:18px;letter-spacing:.3px}
    .brand .dot{width:10px;height:10px;border-radius:50%;background: radial-gradient(circle at 30% 30%, #a78bfa, #7c3aed); box-shadow: 0 0 12px rgba(124,58,237,.8)}
    .container{max-width:900px;margin:24px auto;padding:0 16px}
    .band{background:
      radial-gradient(800px 300px at -10% 0%, rgba(124,58,237,.18), transparent 60%),
      radial-gradient(700px 260px at 110% 120%, rgba(34,197,94,.12), transparent 55%),
      rgba(11,18,32,.55);
      border:1px solid rgba(255,255,255,.06);border-radius:18px;padding:16px;margin-bottom:16px;backdrop-filter: blur(4px);box-shadow: 0 8px 28px rgba(0,0,0,.18) inset, 0 6px 16px rgba(0,0,0,.18)}
    .title{font-size:22px;font-weight:800}
    .muted{color:var(--muted);font-size:13px}
    .surface{background:
      radial-gradient(900px 360px at 0% 100%, rgba(30,64,175,.12), transparent 60%),
      linear-gradient(180deg, rgba(2,6,23,.45), rgba(2,6,23,.25));
      border:1px solid rgba(255,255,255,.06);border-radius:18px;padding:18px;box-shadow: 0 6px 18px rgba(0,0,0,.18) inset}
    form p{margin:0 0 12px}
    form p > label{display:block;font-weight:700;margin-bottom:6px}
    input[type="text"],input[type="url"],input[type="password"],input[type="number"],textarea,select{
      width:100%;padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,.12);background:#0a0f1a;color:#e5e7eb;outline:none}
    input::placeholder,textarea::placeholder{color:#94a3b8}
    input:focus,textarea:focus,select:focus{border-color:rgba(124,58,237,.45);box-shadow:0 0 0 2px rgba(124,58,237,.18)}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    .actions{display:flex;gap:10px;margin-top:10px}
    .btn{appearance:none;border:0;border-radius:10px;padding:10px 14px;background: linear-gradient(135deg, #8b5cf6, #7c3aed); color:#fff; font-weight:700; cursor:pointer; box-shadow: 0 8px 24px rgba(124,58,237,.25)}
    .btn:active{transform:translateY(1px)}
    .btn.minor{background:#111827;color:#e5e7eb;border:1px solid rgba(255,255,255,.08);box-shadow:none}
    .footer{text-align:center;margin:18px 0;color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <header>
    <div class="brand"><span class="dot"></span> OptiChat <span class="muted"> · {{ title }}</span></div>
    <nav class="actions"><a class="btn minor" href="/panel/">← Panel</a></nav>
  </header>
  <div class="container">
    <div class="band">
      <div class="title">{{ title }}</div>
      <div class="muted">Configura las credenciales de tu bot (PNID, token, nombre, etc.).</div>
    </div>
    <div class="surface">
      <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <div class="actions">
          <button class="btn" type="submit">{{ submit_label|default:'Guardar' }}</button>
          <a class="btn minor" href="/panel/">Cancelar</a>
        </div>
      </form>
    </div>
    <div class="footer">OptiChat • Hecho con cariño para flujos de WhatsApp</div>
  </div>

  <script>
    // Evitar doble envío y dar feedback rápido
    (function(){
      const form = document.querySelector('form');
      if (!form) return;
      form.addEventListener('submit', (e)=>{
        const btn = form.querySelector('button[type="submit"]');
        if (btn){ btn.disabled = true; btn.textContent = 'Guardando…'; }
      });
    })();
  </script>
</body>
</html>
